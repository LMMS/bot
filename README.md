# LmmsBot
A simple webhook bot that grabs binaries from Travis logs and post them as a comment. All you need to do it to upload them to `transfer.sh` and set a webhook.

# Setting up 
- Make sure you build with Travis, and upload your artifacts to transfer.sh.
- Install pygithub and travispy. 
- Create a new repository that would be used for re-uploading the atrifacts.
- Create a new file `settings.py` with this content (fill the requested fields):
```python
TEMP_DIR_PATH = '<path for temporary files>'

GITHUB_USER = '<your username>'
GITHUB_TOKEN = '<your token>'
GITHUB_OBJECTS_REPO = '<name of the repo you've created>'
GITHUB_OBJECTS_REPO_BRANCH = 'master'

BOT_COMMENT_BODY_TEMPLATE = '''## Downloads for this pull request\n\n'''
BOT_COMMENT_DOWNLOAD_LINE_TEMPLATE = "- {platform}: [download]({link}).\n"
BOT_COMMENT_FOOTER = '\n\nGenerated by the [LMMS pull requests bot](https://github.com/Reflexe/LmmsBot/). '

```
- [Configure](http://flask.pocoo.org/docs/1.0/installation/) and [run](http://flask.pocoo.org/docs/1.0/quickstart/) a flask server to run your file. 
- Setup a webhook for the `Statuses` events *as a json document* (the default is not json for some strange reason).
